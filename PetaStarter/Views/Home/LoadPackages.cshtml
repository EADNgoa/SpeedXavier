
<style>

    h2 {
        font-size: 57px;
        color: #006aa7;
        font-weight: 900;
        margin: 0;
        margin-bottom: 8px;
        padding: 0;
        font-family: "Merriweather Sans",serif;
    }




    .card-img-top {
        height: 220px;
    }


    .card {
        width: 280px !important;
        margin-right: auto;
        box-shadow: 0 3px 5px rgba(50,50,50,.6);
        position: relative;
        overflow: hidden;
        display: block;
        color: #11496d;
        padding-bottom: 24px;
        background-color: #428bca;
        margin-bottom: 14px;
        height: auto;
        background-color: ghostwhite;
    }

    .card-title {
        text-align: left;
    }

    .card-body {
        text-align: left;
    }



    .breadcrumb {
        padding-top: 0;
        padding-bottom: 0;
        background-color: white;
        position: absolute;
        margin-top: 0;
        margin-bottom: 0;
    }

    .breadcrumb-item {
        padding-top: 0;
        margin-top: 0;
        font-size: 10px;
        background-color: white;
        padding-bottom: 0;
        margin-bottom: 0;
        margin-right: 5px;
        width: auto;
        display: inline-block;
        color: #a5a5a5;
        font-family: "Quattrocento Sans",serif;
    }

    .container {
        padding-top: 0;
        padding-bottom: 0;
        margin-bottom: 0;
        margin-top: 0;
    }

    span {
        padding: 0;
        margin: 0;
        font-size: 10px;
        text-decoration: none;
        color: dimgray;
        font-family: "Quattrocento Sans",serif;
    }

    .HeroTitle {
        font-size: 140px;
        font-family: "Quattrocento Sans",sans-serif;
        font-weight: 300;
        position: absolute;
        color: #fff;
        text-shadow: 1px 1px 1px #000;
        line-height: 80%;
        top: 300px;
        left: 50px;
    }

    .sidenav {
        width: auto;
        background: #eee;
        overflow-x: hidden;
        padding: 50px;
        height: auto;
        box-shadow: 0 3px 5px rgba(50,50,50,.6);
        background-color: white;
        margin-left: 10px;
    }

        .sidenav a {
            padding: 6px 8px 6px 16px;
            text-decoration: none;
            font-size: 25px;
            color: #2196F3;
            display: block;
        }

            .sidenav a:hover {
                color: #064579;
            }


    .imgicon {
        padding-left: 5px;
        padding-right: 80px;
        bottom: -10px;
        padding-bottom: 0;
        float: left;
    }
</style>


<div class="container">
    <hr style="padding-bottom:0;margin-bottom:0;padding-top:2px;margin-top:0;line-height: 1.428571429;" />

    <div class="row">
        <nav class="breadcrumb">
            <span>you are here:&nbsp;</span>
            <a class="breadcrumb-item" href="@Request.UrlReferrer.AbsoluteUri">Home</a>
            <a class="breadcrumb-item" href="@Request.Url.AbsoluteUri">@ViewBag.Loc</a>
        </nav>
    </div>

</div>
<br />


<div class="container-fluid">

    <br />
    <div class="row">
        <div class=" col-md-3">
            <div class="sidenav">


                @if (@ViewBag.st == ServiceTypeEnum.Packages || @ViewBag.st == ServiceTypeEnum.SightSeeing || @ViewBag.st == ServiceTypeEnum.Accomodation || @ViewBag.st == ServiceTypeEnum.CarBike)
    {
            @Html.Hidden("st", (int)ViewBag.st)
            @Html.Hidden("Loc", (int)ViewBag.loc)
if (@ViewBag.st == ServiceTypeEnum.CarBike)
{
            <table class="d-sm-table-cell">
                <tr>
                    <td>
                        <div class="form-group">
                            <label>Destination</label>
                            <div class="col-md-12">
                                <select style="width:280px;" class="GeoSelect" multiple="multiple">
                                    <option value="0">Default</option>
                                </select>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <label>No Of Passenger</label>
                            <div class="col-md-12">
                                @Html.DropDownList("nums", ViewBag.nums as IEnumerable<SelectListItem>, "---", new { @class = "form-control nopax" })
                            </div>
                        </div>

                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <label>Large Bags</label>
                            <div class="col-md-12">
                                @Html.DropDownList("nums", ViewBag.nums as IEnumerable<SelectListItem>, "---", new { @class = "form-control large" })
                            </div>
                        </div>

                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <label>Small Bags</label>
                            <div class="col-md-12">
                                @Html.DropDownList("nums", ViewBag.nums as IEnumerable<SelectListItem>, "---", new { @class = "form-control Small" })
                            </div>
                        </div>

                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <label>Ac</label>
                            <div class="col-md-12">
                                @Html.DropDownList("TF", ViewBag.TF as IEnumerable<SelectListItem>, "---", new { @class = "form-control Ac" })
                            </div>
                        </div>
                    </td>

                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            <label>Has Carrier</label>
                            <div class="col-md-12">
                                @Html.DropDownList("TF", ViewBag.TF as IEnumerable<SelectListItem>, "---", new { @class = "form-control Carrier" })
                            </div>
                        </div>
                    </td>

                </tr>
            </table>
}
if (@ViewBag.st != ServiceTypeEnum.Accomodation && @ViewBag.st != ServiceTypeEnum.CarBike)
{

            <h4>Destinations</h4>
            <table class="d-xl-table-cell">
                <tr>
                    <td>
                        <div class="form-group">
                            <label>Destination</label>
                            <div class="col-md-12">
                                <select class="GeoSelect form-control-lg" multiple="multiple">
                                    <option value="0">Default</option>
                                </select>
                            </div>
                        </div>
                    </td>
                </tr>
                </table>

                <h4>Categories</h4>
                <table class="d-xl-table-cell">

                    @foreach (var item in ViewBag.Cats)
        {

            <tr>
                <td>

                    <label class="form-check-label">


                        <input type="checkbox" name="cat" value="@item.CategoryID" class="cat form-check-input">
                        @item.CategoryName
                    </label>
                </td>
            </tr>
}

                </table>

                <hr />
                <h4>Activities</h4>
                <table class="d-xl-table-cell">

                    @foreach (var item in ViewBag.Acts)
        {
            <tr>
                <td>
                    <label class="form-check-label">
                        <input type="checkbox" name="act" value="@item.ActivityID" class=" act form-check-input">
                        @item.ActivityName
                    </label>
                </td>
            </tr>

}

                </table>
                }
                <hr />

                <table class="d-xl-table-cell">
                    @if (@ViewBag.st != ServiceTypeEnum.Accomodation && @ViewBag.st != ServiceTypeEnum.CarBike)
        {
            <tr>
                <td>
                    <div class="form-group">
                        <label>Group Size</label>
                        <div class="col-md-12">
                            @Html.DropDownList("nums", ViewBag.nums as IEnumerable<SelectListItem>, "---", new { @class = "form-control gsize" })
                        </div>
                    </div>

                </td>
            </tr>
            <tr>
                <td>
                    <div class="form-group">
                        <label>Dificulty</label>
                        <div class="col-md-12">
                            @Html.DropDownList("nums", ViewBag.nums as IEnumerable<SelectListItem>, "---", new { @class = "form-control diffic" })
                        </div>
                    </div>

                </td>
            </tr>
            <tr>
                <td>
                    <div class="form-group">
                        <label>Duration</label>
                        <div class="col-md-12">
                            @Html.DropDownList("nums", ViewBag.nums as IEnumerable<SelectListItem>, "---", new { @class = "form-control dur" })
                        </div>
                    </div>

                </td>
            </tr>
            <tr>
                <td>
                    <div class="form-group">
                        <label>Guide Language</label>
                        <div class="col-md-12">
                            @Html.DropDownList("GuideLanguageID", ViewBag.GuideLanguageID as IEnumerable<SelectListItem>, "---", new { @class = "form-control language" })
                        </div>
                    </div>

                </td>
            </tr>
}
                    <tr>
                        <td>
                            <p>
                                <label for="amount">Price range:</label>
                                <input type="text" id="amount" class="prange" value=" " readonly style="border:0; color:#000000; font-weight:bold;">
                            </p>

                            <div id="slider-range"></div>
                        </td>
                    </tr>
                </table>
                if (@ViewBag.st != ServiceTypeEnum.Accomodation && @ViewBag.st != ServiceTypeEnum.CarBike)
                {
                <hr />
                <h4> Attractions</h4>
                <table class="d-xl-table-cell">

                    @foreach (var item in ViewBag.Attracts)
        {
            <tr>
                <td>
                    <label class="form-check-label">
                        <input type="checkbox" name="attract" value="@item.AttractionID" class=" attract form-check-input">
                        @item.AttractionName
                    </label>
                </td>
            </tr>

}


                </table>

                }
                if (@ViewBag.st != ServiceTypeEnum.Packages && @ViewBag.st != ServiceTypeEnum.SightSeeing && @ViewBag.st != ServiceTypeEnum.Cruise && @ViewBag.st != ServiceTypeEnum.CarBike)
                {
                <hr />
                <h4> Attractions</h4>
                <table class="d-xl-table-cell">

                    @foreach (var item in ViewBag.fac)
        {
            <tr>
                <td>
                    <label class="form-check-label">
                        <input type="checkbox" name="fac" value="@item.FacilityID" class=" fac form-check-input">
                        @item.FacilityName
                    </label>
                </td>
            </tr>

}


                </table>

                }
                }



            </div>
        </div>
        @Html.Hidden("maxPrice")
        @Html.Hidden("minPrice")

        <div class=" col-md-9" id="partialview">
            @Html.Action("PackagesPartialView", "Home", new { st = ViewBag.st, DestIds = new List<int>() { (int)ViewBag.Loc } } )
        </div>
    </div>





</div>
<script type="text/javascript">



    //Filter
  $(document).ready(function () {
         
        var CatSt = $('#st').val();

        var setFilters = function () {
            CatValues = [];
            $.each($(".cat:checked"), function () {
                CatValues.push($(this).val());
            });
            ActValues = [];
            $.each($(".act:checked"), function () {
                ActValues.push($(this).val());
            });
            AttractValues = [];
            $.each($(".attract:checked"), function () {
                AttractValues.push($(this).val());
            });
            FacValues = [];
            $.each($(".fac:checked"), function () {
                FacValues.push($(this).val());
            });
            DestValues = [];
            var Dests = $('.GeoSelect').val();
            for (var i = 0; i < Dests.length; i++) {
                DestValues.push(Dests[i]);
            }

            if (DestValues.length < 1)
                DestValues.push($('#Loc').val());

            $('#partialview').html(" ");
            $('#partialview').load(
                '@Url.Action("PackagesPartialView", "Home")',
                {
                    st: CatSt, CatID: CatValues, ActID: ActValues,
                    Gsize: $(".gsize option:selected").text(), diff: $(".diffic option:selected").text(),
                    dur: $(".dur option:selected").text(), AttractID: AttractValues,
                    GuideLanguageID: parseInt($(".language option:selected").val()),
                    maxPrice: $("#maxPrice").val(), minPrice: $("#minPrice").val(),
                    FacilityID: FacValues, NoPax: parseInt($(".nopax option:selected").val()),
                    large: parseInt($(".large option:selected").val()), small: parseInt($(".large option:selected").val()), HasAc: $(".Ac option:selected").val(),
                    HasCarrier: $(".Carrier option:selected").val(), DestIds: DestValues
                }
            );

        };


        $(".cat,.act,.gsize,.diffic,.dur,.attract,.language,.fac,.nopax,.large,.small,.Ac,.Carrier").change(setFilters);
        $(".GeoSelect").on('change', function (e) {
            setFilters();
        });

    //Slider

        $("#slider-range").slider({
            range: true,
            min: 0,
            max: 100000,
            values: [2000, 10000],
            slide: function (event, ui) {
                $("#amount").val("Rs " + ui.values[0] + " - Rs " + ui.values[1]);
                $("#minPrice").val(ui.values[0]);
                $("#maxPrice").val(ui.values[1]);
            },
            stop: function (event, ui) {
                setFilters();
                //alert("Hey Diptesh!");
            }

        });
        $("#amount").val("Rs" + $("#slider-range").slider("values", 0) +
            " - Rs" + $("#slider-range").slider("values", 1));


  });

</script>
